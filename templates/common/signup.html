{% extends 'base.html' %}
{% load pybo_filter %}

{% block content %}
<div class="container my-3 page-narrow user-modify-page">

    <div class="page-header mb-2">
        <h4 class="page-title mb-0">직원등록</h4>
    </div>

    <form method="post" action="{% url 'common:signup' %}" id="userSignupForm" class="small">
        {% csrf_token %}
        {% include 'form_errors.html' %}

        <div class="card user-info-card mb-3">
            <div class="card-body">
                <div class="user-form-stack">

                    <div class="mb-3">
                        <label class="form-label" for="username">ID(휴대폰 번호)</label>
                        <input type="text"
                               class="form-control form-control-sm"
                               name="username"
                               id="username"
                               value="{{ form.username.value|default_if_none:'' }}">
                    </div>

                    <div class="mb-3">
                        <label class="form-label" for="emp_name">직원명</label>
                        <input type="text"
                               class="form-control form-control-sm"
                               name="emp_name"
                               id="emp_name"
                               value="{{ form.emp_name.value|default_if_none:'' }}">
                    </div>

                    <div class="mb-3">
                        <label class="form-label" for="email">이메일</label>
                        <input type="text"
                               class="form-control form-control-sm"
                               name="email"
                               id="email"
                               value="{{ form.email.value|default_if_none:'' }}">
                    </div>

                    <div class="mb-3">
                        <label class="form-label" for="dept">부서명</label>
                        <select class="form-select form-select-sm" name="dept" id="dept">
                            {% for dept in dept_list %}
                                <option value="{{ dept }}"
                                    {% if form.dept.value == dept %} selected {% endif %}>
                                    {{ dept }}
                                </option>
                            {% endfor %}
                        </select>
                    </div>

                    <div class="mb-3">
                        <label class="form-label" for="position">직위명</label>
                        <select class="form-select form-select-sm" name="position" id="position">
                            {% for position in position_list %}
                                <option value="{{ position }}"
                                    {% if form.position.value == position %} selected {% endif %}>
                                    {{ position }}
                                </option>
                            {% endfor %}
                        </select>
                    </div>

                    <div class="mb-3">
                        <label class="form-label" for="join_date">입사일자</label>
                        <input type="date"
                               class="form-control form-control-sm"
                               name="join_date"
                               id="join_date"
                               max="9999-12-31"
                               value="{{ form.join_date.value|date:'Y-m-d'|default_if_none:'' }}">
                    </div>

                    <div class="mb-3">
                        <label class="form-label" for="out_date">최종근로일자</label>
                        <input type="date"
                               class="form-control form-control-sm"
                               name="out_date"
                               id="out_date"
                               max="9999-12-31"
                               value="{{ form.out_date.value|date:'Y-m-d'|default_if_none:'' }}">
                    </div>

                </div>
            </div>
        </div>
    </form>

    <div class="user-action-bar mt-3">
        <button type="button"
                class="btn btn-sm btn-outline-secondary"
                onclick="history.back();">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-backspace" viewBox="0 0 16 16">
              <path d="M5.83 5.146a.5.5 0 0 0 0 .708L7.975 8l-2.147 2.146a.5.5 0 0 0 .707.708l2.147-2.147 2.146 2.147a.5.5 0 0 0 .707-.708L9.39 8l2.146-2.146a.5.5 0 0 0-.707-.708L8.683 7.293 6.536 5.146a.5.5 0 0 0-.707 0z"/>
              <path d="M13.683 1a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7.08a2 2 0 0 1-1.519-.698L.241 8.65a1 1 0 0 1 0-1.302L5.084 1.7A2 2 0 0 1 6.603 1zm-7.08 1a1 1 0 0 0-.76.35L1 8l4.844 5.65a1 1 0 0 0 .759.35h7.08a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1z"/>
            </svg>
            이전
        </button>

        <button type="submit" form="userSignupForm" class="btn btn-sm btn-primary">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                 class="bi bi-floppy-fill" viewBox="0 0 16 16">
                <path d="M0 1.5A1.5 1.5 0 0 1 1.5 0H3v5.5A1.5 1.5 0 0 0 4.5 7h7A1.5 1.5 0 0 0 13 5.5V0h.086a1.5 1.5 0 0 1 1.06.44l1.415 1.414A1.5 1.5 0 0 1 16 2.914V14.5a1.5 1.5 0 0 1-1.5 1.5H14v-5.5A1.5 1.5 0 0 0 12.5 9h-9A1.5 1.5 0 0 0 2 10.5V16h-.5A1.5 1.5 0 0 1 0 14.5z"/>
                <path d="M3 16h10v-5.5a.5.5 0 0 0-.5-.5h-9a.5.5 0 0 0-.5.5zm9-16H4v5.5a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 .5-.5zM9 1h2v4H9z"/>
            </svg>
            저장
        </button>
    </div>

</div>
{% endblock %}
