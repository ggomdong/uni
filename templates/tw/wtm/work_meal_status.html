{% extends "tw/base.html" %}
{% load pybo_filter %}
{% block content %}
<div class="flex flex-col gap-6">
    <section class="rounded-2xl border border-slate-200/70 bg-white shadow-sm">
        <div class="flex flex-col gap-4 px-6 py-3 md:flex-row md:items-center md:justify-between">
            <div>
                <h1 class="text-lg font-semibold text-slate-900">식대 월간집계</h1>
                <p class="mt-0.5 text-sm text-slate-500">월별 식대 사용 현황과 상세내역을 확인합니다.</p>
            </div>
            <div class="flex flex-wrap items-center gap-3">
                {% include "tw/wtm/_parts/_day_nav.html" with nav_mode="month" nav_value=month_value nav_style="query" nav_param="month" nav_base_path="." nav_hx_target="#status-table" nav_hx_swap="outerHTML" nav_hx_push_url="true" nav_hx_indicator="#status-month-indicator" %}
            </div>
        </div>
    </section>

    {% include "tw/wtm/meal/_work_meal_status_table.html" %}
</div>
<div id="status-month-indicator" class="htmx-indicator fixed right-6 top-20 z-50 text-slate-600">
    <div class="flex items-center gap-2 rounded-full border border-slate-200 bg-white/95 px-3 py-2 text-xs font-semibold shadow-lg">
        <svg class="h-4 w-4 animate-spin text-teal-600" viewBox="0 0 24 24" aria-hidden="true">
            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"></path>
        </svg>
        불러오는 중
    </div>
</div>
<div id="modal-slot"></div>
{% endblock %}
